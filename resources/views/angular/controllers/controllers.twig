'use strict';

app.controller('HeaderController', ['$scope',  '$http', '$location','APIService',
                            function($scope,    $http,  $location, APIService) {

    
    // First way of creating a Restangular object. Just saying the base URL
    //var baseAccounts = APIService.all('user');

    $scope.logout = function(){
        $http.post('/logout').then(function(resp){
            window.location = "/home";
        });
    };
    
    $scope.$on('$includeContentLoaded', function() {
        Layout.initHeader(); // init header
    });

    $location.path("/dashboard");

}]);

/* Setup Layout Part - Sidebar */
angular.module('app').controller('SidebarController', ['$state', '$scope', function($state, $scope) {
    $scope.$on('$includeContentLoaded', function() {
        Layout.initSidebar($state); // init sidebar
    });
}]);


/* Setup Layout Part - Theme Panel */
angular.module('app').controller('ThemePanelController', ['$scope', function($scope) {    
    $scope.$on('$includeContentLoaded', function() {
        Demo.init(); // init theme panel
    });
}]);

/* Setup Layout Part - Quick Sidebar */
angular.module('app').controller('QuickSidebarController', ['$scope', function($scope) {    
    $scope.$on('$includeContentLoaded', function() {
       setTimeout(function(){
            QuickSidebar.init(); // init quick sidebar        
        }, 2000)
    });
}]);

/* Setup Layout Part - Footer */
angular.module('app').controller('FooterController', ['$scope', function($scope) {
    $scope.$on('$includeContentLoaded', function() {
        Layout.initFooter(); // init footer
    });
}]);